// Generated by CoffeeScript 1.3.3
(function() {
  var $, Canvas, Client, EngineIO,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  $ = require('jquery');

  EngineIO = require('engine.io-client');

  Canvas = require('./Canvas');

  Client = (function() {

    function Client() {
      this.onClose = __bind(this.onClose, this);

      this.onMessage = __bind(this.onMessage, this);

      this.onOpen = __bind(this.onOpen, this);

      var _this = this;
      $(document).ready(function() {
        _this.socket = new EngineIO('ws://localhost');
        _this.socket.onopen = _this.onOpen;
        return _this.canvas = new Canvas();
      });
    }

    Client.prototype.onOpen = function() {
      console.log('open');
      this.socket.onmessage = this.onMessage;
      this.socket.onclose = this.onClose;
      return this.socket.send('init');
    };

    Client.prototype.onMessage = function(message) {
      return console.log("client received message from server:" + message.data);
    };

    Client.prototype.onClose = function() {
      return console.log('closed');
    };

    return Client;

  })();

  module.exports = Client;

}).call(this);
